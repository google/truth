<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Correspondence (Truth HEAD-SNAPSHOT)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Correspondence (Truth HEAD-SNAPSHOT)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":42,"i2":10,"i3":10,"i4":9,"i5":42,"i6":9,"i7":6,"i8":9,"i9":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Correspondence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.google.common.truth</a></div>
<h2 title="Class Correspondence" class="title">Class Correspondence&lt;A extends @Nullable java.lang.Object,&#8203;E extends @Nullable java.lang.Object&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.google.common.truth.Correspondence&lt;A,&#8203;E&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public abstract class <span class="typeNameLabel">Correspondence&lt;A extends @Nullable java.lang.Object,&#8203;E extends @Nullable java.lang.Object&gt;</span>
extends java.lang.Object</pre>
<div class="block">Determines whether an instance of type <code>A</code> corresponds in some way to an instance of type
 <code>E</code> for the purposes of a test assertion. For example, the implementation returned by the
 <a href="#tolerance(double)"><code>tolerance(double)</code></a> factory method implements approximate equality between numeric values,
 with values being said to correspond if the difference between them does not exceed the given
 fixed tolerance. The instances of type <code>A</code> are typically actual values from a collection
 returned by the code under test; the instances of type <code>E</code> are typically expected values
 with which the actual values are compared by the test.

 <p>The correspondence is required to be consistent: for any given values <code>actual</code> and
 <code>expected</code>, multiple invocations of <code>compare(actual, expected)</code> must consistently
 return <code>true</code> or consistently return <code>false</code> (provided that neither value is
 modified). Although <code>A</code> and <code>E</code> will often be the same types, they are <i>not</i>
 required to be the same, and even if they are it is <i>not</i> required that the correspondence
 should have any of the other properties of an equivalence relation (reflexivity, symmetry, or
 transitivity).

 <p>Optionally, instances of this class can also provide functionality to format the difference
 between values which do not correspond. This results in failure messages including formatted
 diffs between expected and actual value, where possible.

 <p>The recommended approach for creating an instance of this class is to use one of the static
 factory methods. The most general of these is <a href="#from(com.google.common.truth.Correspondence.BinaryPredicate,java.lang.String)"><code>from(com.google.common.truth.Correspondence.BinaryPredicate&lt;A, E&gt;, java.lang.String)</code></a>; the other methods are more
 convenient in specific cases. The optional diff-formatting functionality can be added using
 <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a>. (Alternatively, you can subclass this class yourself, but that is
 generally not recommended.)

 <p>Instances of this are typically used via <a href="IterableSubject.html#comparingElementsUsing(com.google.common.truth.Correspondence)"><code>IterableSubject.comparingElementsUsing(com.google.common.truth.Correspondence&lt;? super A, ? super E&gt;)</code></a>,
 <a href="MapSubject.html#comparingValuesUsing(com.google.common.truth.Correspondence)"><code>MapSubject.comparingValuesUsing(com.google.common.truth.Correspondence&lt;? super A, ? super E&gt;)</code></a>, or <a href="MultimapSubject.html#comparingValuesUsing(com.google.common.truth.Correspondence)"><code>MultimapSubject.comparingValuesUsing(com.google.common.truth.Correspondence&lt;? super A, ? super E&gt;)</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Pete Gillin</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Correspondence.BinaryPredicate.html" title="interface in com.google.common.truth">Correspondence.BinaryPredicate</a>&lt;<a href="Correspondence.BinaryPredicate.html" title="type parameter in Correspondence.BinaryPredicate">A</a> extends @Nullable java.lang.Object,&#8203;<a href="Correspondence.BinaryPredicate.html" title="type parameter in Correspondence.BinaryPredicate">E</a> extends @Nullable java.lang.Object&gt;</span></code></th>
<td class="colLast">
<div class="block">A functional interface for a binary predicate, to be used to test whether a pair of objects of
 types <code>A</code> and <code>E</code> satisfy some condition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Correspondence.DiffFormatter.html" title="interface in com.google.common.truth">Correspondence.DiffFormatter</a>&lt;<a href="Correspondence.DiffFormatter.html" title="type parameter in Correspondence.DiffFormatter">A</a> extends @Nullable java.lang.Object,&#8203;<a href="Correspondence.DiffFormatter.html" title="type parameter in Correspondence.DiffFormatter">E</a> extends @Nullable java.lang.Object&gt;</span></code></th>
<td class="colLast">
<div class="block">A functional interface to be used format the diff between a pair of objects of types <code>A</code>
 and <code>E</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compare(A,E)">compare</a></span>&#8203;(<a href="Correspondence.html" title="type parameter in Correspondence">A</a>&nbsp;actual,
       <a href="Correspondence.html" title="type parameter in Correspondence">E</a>&nbsp;expected)</code></th>
<td class="colLast">
<div class="block">Returns whether or not the <code>actual</code> value is said to correspond to the <code>expected</code>
 value for the purposes of this test.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#equals(java.lang.Object)">equals</a></span>&#8203;(@Nullable java.lang.Object&nbsp;o)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment"><code>Object.equals(Object)</code> is not supported.</div>
</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>@Nullable java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#formatDiff(A,E)">formatDiff</a></span>&#8203;(<a href="Correspondence.html" title="type parameter in Correspondence">A</a>&nbsp;actual,
          <a href="Correspondence.html" title="type parameter in Correspondence">E</a>&nbsp;expected)</code></th>
<td class="colLast">
<div class="block">Returns a <code>String</code> describing the difference between the <code>actual</code> and <code>
 expected</code> values, if possible, or <code>null</code> if not.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;<a href="Correspondence.html" title="type parameter in Correspondence">A</a>,&#8203;<a href="Correspondence.html" title="type parameter in Correspondence">E</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)">formattingDiffsUsing</a></span>&#8203;(<a href="Correspondence.DiffFormatter.html" title="interface in com.google.common.truth">Correspondence.DiffFormatter</a>&lt;? super <a href="Correspondence.html" title="type parameter in Correspondence">A</a>,&#8203;? super <a href="Correspondence.html" title="type parameter in Correspondence">E</a>&gt;&nbsp;formatter)</code></th>
<td class="colLast">
<div class="block">Returns a new correspondence which is like this one, except that the given formatter may be
 used to format the difference between a pair of elements that do not correspond.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static &lt;A extends @Nullable java.lang.Object,&#8203;E extends @Nullable java.lang.Object&gt;<br><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,&#8203;E&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#from(com.google.common.truth.Correspondence.BinaryPredicate,java.lang.String)">from</a></span>&#8203;(<a href="Correspondence.BinaryPredicate.html" title="interface in com.google.common.truth">Correspondence.BinaryPredicate</a>&lt;A,&#8203;E&gt;&nbsp;predicate,
    java.lang.String&nbsp;description)</code></th>
<td class="colLast">
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares actual and expected elements using the given
 binary predicate.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hashCode()">hashCode</a></span>()</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment"><code>Object.hashCode()</code> is not supported.</div>
</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;java.lang.Number,&#8203;java.lang.Number&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tolerance(double)">tolerance</a></span>&#8203;(double&nbsp;tolerance)</code></th>
<td class="colLast">
<div class="block">Returns a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> between <code>Number</code> instances that considers instances to
 correspond (i.e.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a description of the correspondence, suitable to fill the gap in a failure message of
 the form <code>"&lt;some actual element&gt; is an element that ... &lt;some expected element&gt;"</code>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static &lt;A extends @Nullable java.lang.Object,&#8203;E extends @Nullable java.lang.Object&gt;<br><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,&#8203;E&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#transforming(com.google.common.base.Function,com.google.common.base.Function,java.lang.String)">transforming</a></span>&#8203;(<a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink">Function</a>&lt;A,&#8203;?&gt;&nbsp;actualTransform,
            <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink">Function</a>&lt;E,&#8203;?&gt;&nbsp;expectedTransform,
            java.lang.String&nbsp;description)</code></th>
<td class="colLast">
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares elements by transforming the actual and the
 expected elements using the given functions and testing the transformed values for equality.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static &lt;A extends @Nullable java.lang.Object,&#8203;E extends @Nullable java.lang.Object&gt;<br><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,&#8203;E&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#transforming(com.google.common.base.Function,java.lang.String)">transforming</a></span>&#8203;(<a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink">Function</a>&lt;A,&#8203;? extends E&gt;&nbsp;actualTransform,
            java.lang.String&nbsp;description)</code></th>
<td class="colLast">
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares elements by transforming the actual elements
 using the given function and testing for equality with the expected elements.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="from(com.google.common.truth.Correspondence.BinaryPredicate,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>from</h4>
<pre class="methodSignature">public static&nbsp;&lt;A extends @Nullable java.lang.Object,&#8203;E extends @Nullable java.lang.Object&gt;&nbsp;<a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,&#8203;E&gt;&nbsp;from&#8203;(<a href="Correspondence.BinaryPredicate.html" title="interface in com.google.common.truth">Correspondence.BinaryPredicate</a>&lt;A,&#8203;E&gt;&nbsp;predicate,
                                                                                                                               java.lang.String&nbsp;description)</pre>
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares actual and expected elements using the given
 binary predicate.

 <p>The correspondence does not support formatting of diffs (see <a href="#formatDiff(A,E)"><code>formatDiff(A, E)</code></a>). You can
 add that behaviour by calling <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a>.

 <p>Note that, if the data you are asserting about contains nulls, your predicate may be invoked
 with null arguments. If this causes it to throw a <code>NullPointerException</code>, then your test
 will fail. (See <a href="#compare(A,E)"><code>compare(A, E)</code></a> for more detail on how exceptions are handled.)
 In particular, if your predicate is an instance method reference on the actual value (as in the
 <code>String::contains</code> example below), your test will fail if it sees null actual values.

 <p>Example using an instance method reference:

 <pre><code>
 static final Correspondence&lt;String, String&gt; CONTAINS_SUBSTRING =
     Correspondence.from(String::contains, "contains");
 </code></pre>

 <p>Example using a static method reference:

 <pre><code>
 class MyRecordTestHelper {
   static final Correspondence&lt;MyRecord, MyRecord&gt; EQUIVALENCE =
       Correspondence.from(MyRecordTestHelper::recordsEquivalent, "is equivalent to");
   static boolean recordsEquivalent(MyRecord actual, MyRecord expected) {
     // code to check whether records should be considered equivalent for testing purposes
   }
 }
 </code></pre>

 <p>Example using a lambda:

 <pre><code>
 static final Correspondence&lt;Object, Class&lt;?&gt;&gt; INSTANCE_OF =
     Correspondence.from((obj, clazz) -&gt; clazz.isInstance(obj), "is an instance of");
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - a <a href="Correspondence.BinaryPredicate.html" title="interface in com.google.common.truth"><code>Correspondence.BinaryPredicate</code></a> taking an actual and expected value (in that order)
     and returning whether the actual value corresponds to the expected value in some way</dd>
<dd><code>description</code> - should fill the gap in a failure message of the form <code>"not true that
     &lt;some actual element&gt; is an element that &lt;description&gt; &lt;some expected element&gt;"</code>, e.g.
     <code>"contains"</code>, <code>"is an instance of"</code>, or <code>"is equivalent to"</code></dd>
</dl>
</li>
</ul>
<a id="transforming(com.google.common.base.Function,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transforming</h4>
<pre class="methodSignature">public static&nbsp;&lt;A extends @Nullable java.lang.Object,&#8203;E extends @Nullable java.lang.Object&gt;&nbsp;<a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,&#8203;E&gt;&nbsp;transforming&#8203;(<a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink">Function</a>&lt;A,&#8203;? extends E&gt;&nbsp;actualTransform,
                                                                                                                                       java.lang.String&nbsp;description)</pre>
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares elements by transforming the actual elements
 using the given function and testing for equality with the expected elements. If the
 transformed actual element (i.e. the output of the given function) is null, it will correspond
 to a null expected element.

 <p>The correspondence does not support formatting of diffs (see <a href="#formatDiff(A,E)"><code>formatDiff(A, E)</code></a>). You can
 add that behaviour by calling <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a>.

 <p>Note that, if you the data you are asserting about contains null actual values, your
 function may be invoked with a null argument. If this causes it to throw a <code>NullPointerException</code>, then your test will fail. (See <a href="#compare(A,E)"><code>compare(A, E)</code></a> for more
 detail on how exceptions are handled.) In particular, this applies if your function is an
 instance method reference on the actual value (as in the example below). If you want a null
 actual element to correspond to a null expected element, you must ensure that your function
 transforms a null input to a null output.

 <p>Example:

 <pre><code>
 static final Correspondence&lt;MyRecord, Integer&gt; HAS_ID =
     Correspondence.transforming(MyRecord::getId, "has an ID of");
 </code></pre>

 This can be used as follows:

 <pre><code>
 assertThat(myRecords).comparingElementsUsing(HAS_ID).containsExactly(123, 456, 789);
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>actualTransform</code> - a <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink"><code>Function</code></a> taking an actual value and returning a new value
     which will be compared with an expected value to determine whether they correspond</dd>
<dd><code>description</code> - should fill the gap in a failure message of the form <code>"not true that
     &lt;some actual element&gt; is an element that &lt;description&gt; &lt;some expected element&gt;"</code>, e.g.
     <code>"has an ID of"</code></dd>
</dl>
</li>
</ul>
<a id="transforming(com.google.common.base.Function,com.google.common.base.Function,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transforming</h4>
<pre class="methodSignature">public static&nbsp;&lt;A extends @Nullable java.lang.Object,&#8203;E extends @Nullable java.lang.Object&gt;&nbsp;<a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,&#8203;E&gt;&nbsp;transforming&#8203;(<a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink">Function</a>&lt;A,&#8203;?&gt;&nbsp;actualTransform,
                                                                                                                                       <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink">Function</a>&lt;E,&#8203;?&gt;&nbsp;expectedTransform,
                                                                                                                                       java.lang.String&nbsp;description)</pre>
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares elements by transforming the actual and the
 expected elements using the given functions and testing the transformed values for equality. If
 an actual element is transformed to null, it will correspond to an expected element that is
 also transformed to null.

 <p>The correspondence does not support formatting of diffs (see <a href="#formatDiff(A,E)"><code>formatDiff(A, E)</code></a>). You can
 add that behaviour by calling <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a>.

 <p>Note that, if you the data you are asserting about contains null actual or expected values,
 the appropriate function may be invoked with a null argument. If this causes it to throw a
 <code>NullPointerException</code>, then your test will fail. (See <a href="#compare(A,E)"><code>compare(A, E)</code></a> for
 more detail on how exceptions are handled.) In particular, this applies if your function is an
 instance method reference on the actual or expected value (as in the example below). If you
 want a null actual element to correspond to a null expected element, you must ensure that your
 functions both transform a null input to a null output.

 <p>If you want to apply the same function to both the actual and expected elements, just
 provide the same argument twice.

 <p>Example:

 <pre><code>
 static final Correspondence&lt;MyRequest, MyResponse&gt; SAME_IDS =
     Correspondence.transforming(MyRequest::getId, MyResponse::getId, "has the same ID as");
 </code></pre>

 This can be used as follows:

 <pre><code>
 assertThat(myResponses).comparingElementsUsing(SAME_IDS).containsExactlyElementsIn(myRequests);
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>actualTransform</code> - a <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink"><code>Function</code></a> taking an actual value and returning a new value
     which will be compared with a transformed expected value to determine whether they
     correspond</dd>
<dd><code>expectedTransform</code> - a <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html?is-external=true" title="class or interface in com.google.common.base" class="externalLink"><code>Function</code></a> taking an expected value and returning a new value
     which will be compared with a transformed actual value</dd>
<dd><code>description</code> - should fill the gap in a failure message of the form <code>"not true that
     &lt;some actual element&gt; is an element that &lt;description&gt; &lt;some expected element&gt;"</code>, e.g.
     <code>"has the same ID as"</code></dd>
</dl>
</li>
</ul>
<a id="tolerance(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tolerance</h4>
<pre class="methodSignature">public static&nbsp;<a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;java.lang.Number,&#8203;java.lang.Number&gt;&nbsp;tolerance&#8203;(double&nbsp;tolerance)</pre>
<div class="block">Returns a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> between <code>Number</code> instances that considers instances to
 correspond (i.e. <a href="#compare(A,E)"><code>compare(Object, Object)</code></a> returns <code>true</code>) if the
 double values of each instance (i.e. the result of calling <code>Number.doubleValue()</code> on
 them) are finite values within <code>tolerance</code> of each other.

 <ul>
   <li>It does not consider instances to correspond if either value is infinite or NaN.
   <li>The conversion to double may result in a loss of precision for some numeric types.
   <li>The <a href="#compare(A,E)"><code>compare(Object, Object)</code></a> method throws a <code>NullPointerException</code> if either <code>Number</code> instance is null.
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tolerance</code> - an inclusive upper bound on the difference between the double values of the
     two <code>Number</code> instances, which must be a non-negative finite value, i.e. not <code>Double.NaN</code>, <code>Double.POSITIVE_INFINITY</code>, or negative, including <code>-0.0</code></dd>
</dl>
</li>
</ul>
<a id="formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formattingDiffsUsing</h4>
<pre class="methodSignature">public&nbsp;<a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;<a href="Correspondence.html" title="type parameter in Correspondence">A</a>,&#8203;<a href="Correspondence.html" title="type parameter in Correspondence">E</a>&gt;&nbsp;formattingDiffsUsing&#8203;(<a href="Correspondence.DiffFormatter.html" title="interface in com.google.common.truth">Correspondence.DiffFormatter</a>&lt;? super <a href="Correspondence.html" title="type parameter in Correspondence">A</a>,&#8203;? super <a href="Correspondence.html" title="type parameter in Correspondence">E</a>&gt;&nbsp;formatter)</pre>
<div class="block">Returns a new correspondence which is like this one, except that the given formatter may be
 used to format the difference between a pair of elements that do not correspond.

 <p>Note that, if you the data you are asserting about contains null actual or expected values,
 the formatter may be invoked with a null argument. If this causes it to throw a <code>NullPointerException</code>, that will be taken to indicate that the values cannot be diffed. (See
 <a href="#formatDiff(A,E)"><code>formatDiff(A, E)</code></a> for more detail on how exceptions are handled.) If you think
 null values are likely, it is slightly cleaner to have the formatter return null in that case
 instead of throwing.

 <p>Example:

 <pre><code>
 class MyRecordTestHelper {
   static final Correspondence&lt;MyRecord, MyRecord&gt; EQUIVALENCE =
       Correspondence.from(MyRecordTestHelper::recordsEquivalent, "is equivalent to")
           .formattingDiffsUsing(MyRecordTestHelper::formatRecordDiff);
   static boolean recordsEquivalent(MyRecord actual, MyRecord expected) {
     // code to check whether records should be considered equivalent for testing purposes
   }
   static String formatRecordDiff(MyRecord actual, MyRecord expected) {
     // code to format the diff between the records
   }
 }
 </code></pre></div>
</li>
</ul>
<a id="compare(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="compare(A,E)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compare</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;compare&#8203;(<a href="Correspondence.html" title="type parameter in Correspondence">A</a>&nbsp;actual,
                                <a href="Correspondence.html" title="type parameter in Correspondence">E</a>&nbsp;expected)</pre>
<div class="block">Returns whether or not the <code>actual</code> value is said to correspond to the <code>expected</code>
 value for the purposes of this test.

 <h3>Exception handling</h3>

 <p>Throwing a <code>RuntimeException</code> from this method indicates that this <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> cannot compare the given values. Any assertion which encounters such an
 exception during the course of evaluating its condition must not pass. However, an assertion is
 not required to invoke this method for every pair of values in its input just in order to check
 for exceptions, if it is able to evaluate its condition without doing so.

 <h4>Conventions for handling exceptions</h4>

 <p>(N.B. This section is only really of interest when implementing assertion methods that call
 <a href="#compare(A,E)"><code>compare(A, E)</code></a>, not to users making such assertions in their tests.)

 <p>The only requirement on an assertion is that, if it encounters an exception from this
 method, it must not pass. The simplest implementation choice is simply to allow the exception
 to propagate. However, it is normally more helpful to catch the exception and instead fail with
 a message which includes more information about the assertion in progress and the nature of the
 failure.

 <p>By convention, an assertion may catch and store the exception and continue evaluating the
 condition as if the method had returned false instead of throwing. If the assertion's condition
 does not hold with this alternative behaviour, it may choose to fail with a message that gives
 details about how the condition does not hold, additionally mentioning that assertions were
 encountered and giving details about one of the stored exceptions. (See the first example
 below.) If the assertion's condition does hold with this alternative behaviour, the requirement
 that the assertion must not pass still applies, so it should fail with a message giving details
 about one of the stored exceptions. (See the second and third examples below.)

 <p>This behaviour is only a convention and should only be implemented when it makes sense to do
 so. In particular, in an assertion that has multiple stages, it may be better to only continue
 evaluation to the end of the current stage, and fail citing a stored exception at the end of
 the stage, rather than accumulating exceptions through the multiple stages.

 <h4>Examples of exception handling</h4>

 <p>Suppose that we have the correspondence

 <pre><code>
 static final Correspondence&lt;String, String&gt; CASE_INSENSITIVE_EQUALITY =
     Correspondence.from(String::equalsIgnoreCase, "equals ignoring case"</code>
 }</pre>

 whose <code>compare</code> method throws <code>NullPointerException</code> if the actual value is null.
 The assertion

 <pre><code>
 assertThat(asList(null, "xyz", "abc", "def"))
     .comparingElementsUsing(CASE_INSENSITIVE_EQUALITY)
     .containsExactly("ABC", "DEF", "GHI", "JKL");
 </code></pre>

 may fail saying that the actual iterable contains unexpected values <code>null</code> and <code>
 xyz</code> and is missing values corresponding to <code>GHI</code> and <code>JKL</code>, which is what it would
 do if the <code>compare</code> method returned false instead of throwing, and additionally mention
 the exception. (This is more helpful than allowing the <code>NullPointerException</code> to
 propagate to the caller, or than failing with only a description of the exception.)

 <p>However, the assertions

 <pre><code>
 assertThat(asList(null, "xyz", "abc", "def"))
     .comparingElementsUsing(CASE_INSENSITIVE_EQUALITY)
     .doesNotContain("MNO");
 </code></pre>

 and

 <pre><code>
 assertThat(asList(null, "xyz", "abc", "def"))
     .comparingElementsUsing(CASE_INSENSITIVE_EQUALITY)
     .doesNotContain(null);
 </code></pre>

 must both fail citing the exception, even though they would pass if the <code>compare</code> method
 returned false. (Note that, in the latter case at least, it is likely that the test author's
 intention was <i>not</i> for the test to pass with these values.)</div>
</li>
</ul>
<a id="formatDiff(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="formatDiff(A,E)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formatDiff</h4>
<pre class="methodSignature">public&nbsp;@Nullable java.lang.String&nbsp;formatDiff&#8203;(<a href="Correspondence.html" title="type parameter in Correspondence">A</a>&nbsp;actual,
                                             <a href="Correspondence.html" title="type parameter in Correspondence">E</a>&nbsp;expected)</pre>
<div class="block">Returns a <code>String</code> describing the difference between the <code>actual</code> and <code>
 expected</code> values, if possible, or <code>null</code> if not.

 <p>The implementation on the <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> base class always returns <code>null</code>. To
 enable diffing, use <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a> (or override this method in a subclass, but
 factory methods are recommended over subclassing).

 <p>Assertions should only invoke this with parameters for which <a href="#compare(A,E)"><code>compare(A, E)</code></a> returns <code>
 false</code>.

 <p>If this throws an exception, that implies that it is not possible to describe the diffs. An
 assertion will normally only call this method if it has established that its condition does not
 hold: good practice dictates that, if this method throws, the assertion should catch the
 exception and continue to describe the original failure as if this method had returned null,
 mentioning the failure from this method as additional information.</div>
</li>
</ul>
<a id="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre class="methodSignature">public abstract&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns a description of the correspondence, suitable to fill the gap in a failure message of
 the form <code>"&lt;some actual element&gt; is an element that ... &lt;some expected element&gt;"</code>. Note
 that this is a fragment of a verb phrase which takes a singular subject.

 <p>Example 1: For a <code>Correspondence&lt;String, Integer&gt;</code> that tests whether the actual
 string parses to the expected integer, this would return <code>"parses to"</code> to result in a
 failure message of the form <code>"&lt;some actual string&gt; is an element that parses to &lt;some
 expected integer&gt;"</code>.

 <p>Example 2: For the <code>Correspondence&lt;Number, Number&gt;</code> returns by <a href="#tolerance(double)"><code>tolerance(double)</code></a> this
 returns <code>"is a finite number within " + tolerance + " of"</code> to result in a failure message
 of the form <code>"&lt;some actual number&gt; is an element that is a finite number within 0.0001 of
 &lt;some expected number&gt;"</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a id="equals(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre class="methodSignature">@Deprecated
public final&nbsp;boolean&nbsp;equals&#8203;(@Nullable java.lang.Object&nbsp;o)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment"><code>Object.equals(Object)</code> is not supported. If you meant to compare objects
     using this <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a>, use <a href="#compare(A,E)"><code>compare(A, E)</code></a>.</div>
</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>equals</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - always</dd>
</dl>
</li>
</ul>
<a id="hashCode()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>hashCode</h4>
<pre class="methodSignature">@Deprecated
public final&nbsp;int&nbsp;hashCode()</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment"><code>Object.hashCode()</code> is not supported.</div>
</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>hashCode</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - always</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Correspondence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</body>
</html>
