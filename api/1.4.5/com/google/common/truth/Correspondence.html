<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (24) -->
<title>Correspondence (Truth 1.4.5)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.google.common.truth, class: Correspondence">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Correspondence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.google.common.truth</a></li>
<li><a href="Correspondence.html" class="current-selection">Correspondence</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#from(com.google.common.truth.Correspondence.BinaryPredicate,java.lang.String)" tabindex="0">from(Correspondence.BinaryPredicate, String)</a></li>
<li><a href="#transforming(com.google.common.base.Function,java.lang.String)" tabindex="0">transforming(Function, String)</a></li>
<li><a href="#transforming(com.google.common.base.Function,com.google.common.base.Function,java.lang.String)" tabindex="0">transforming(Function, Function, String)</a></li>
<li><a href="#tolerance(double)" tabindex="0">tolerance(double)</a></li>
<li><a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)" tabindex="0">formattingDiffsUsing(Correspondence.DiffFormatter)</a></li>
<li><a href="#compare(A,E)" tabindex="0">compare(A, E)</a></li>
<li><a href="#formatDiff(A,E)" tabindex="0">formatDiff(A, E)</a></li>
<li><a href="#toString()" tabindex="0">toString()</a></li>
<li><a href="#equals(java.lang.Object)" tabindex="0">equals(Object)</a></li>
<li><a href="#hashCode()" tabindex="0">hashCode()</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class Correspondence" class="title">Class Correspondence&lt;<span id="type-param-A">A extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>, <span id="type-param-E">E extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.google.common.truth.Correspondence&lt;A,<wbr>E&gt;</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">Correspondence&lt;A extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, E extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Determines whether an instance of type <code>A</code> corresponds in some way to an instance of type
 <code>E</code> for the purposes of a test assertion. For example, the implementation returned by the
 <a href="#tolerance(double)"><code>tolerance(double)</code></a> factory method implements approximate equality between numeric values,
 with values being said to correspond if the difference between them does not exceed the given
 fixed tolerance. The instances of type <code>A</code> are typically actual values from a collection
 returned by the code under test; the instances of type <code>E</code> are typically expected values
 with which the actual values are compared by the test.

 <p>The correspondence is required to be consistent: for any given values <code>actual</code> and
 <code>expected</code>, multiple invocations of <code>compare(actual, expected)</code> must consistently
 return <code>true</code> or consistently return <code>false</code> (provided that neither value is
 modified). Although <code>A</code> and <code>E</code> will often be the same types, they are <i>not</i>
 required to be the same, and even if they are it is <i>not</i> required that the correspondence
 should have any of the other properties of an equivalence relation (reflexivity, symmetry, or
 transitivity).

 <p>Optionally, instances of this class can also provide functionality to format the difference
 between values which do not correspond. This results in failure messages including formatted
 diffs between expected and actual value, where possible.

 <p>The recommended approach for creating an instance of this class is to use one of the static
 factory methods. The most general of these is <a href="#from(com.google.common.truth.Correspondence.BinaryPredicate,java.lang.String)"><code>from(com.google.common.truth.Correspondence.BinaryPredicate&lt;A, E&gt;, java.lang.String)</code></a>; the other methods are more
 convenient in specific cases. The optional diff-formatting functionality can be added using
 <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a>. (Alternatively, you can subclass this class yourself, but that is
 generally not recommended.)

 <p>Instances of this are typically used via <a href="IterableSubject.html#comparingElementsUsing(com.google.common.truth.Correspondence)"><code>IterableSubject.comparingElementsUsing(com.google.common.truth.Correspondence&lt;? super A, ? super E&gt;)</code></a>,
 <a href="MapSubject.html#comparingValuesUsing(com.google.common.truth.Correspondence)"><code>MapSubject.comparingValuesUsing(com.google.common.truth.Correspondence&lt;? super A, ? super E&gt;)</code></a>, or <a href="MultimapSubject.html#comparingValuesUsing(com.google.common.truth.Correspondence)"><code>MultimapSubject.comparingValuesUsing(com.google.common.truth.Correspondence&lt;? super A, ? super E&gt;)</code></a>.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Correspondence.BinaryPredicate.html" class="type-name-link" title="interface in com.google.common.truth">Correspondence.BinaryPredicate</a>&lt;<a href="Correspondence.BinaryPredicate.html#type-param-A" title="type parameter in Correspondence.BinaryPredicate">A</a> extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, <a href="Correspondence.BinaryPredicate.html#type-param-E" title="type parameter in Correspondence.BinaryPredicate">E</a> extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">A functional interface for a binary predicate, to be used to test whether a pair of objects of
 types <code>A</code> and <code>E</code> satisfy some condition.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Correspondence.DiffFormatter.html" class="type-name-link" title="interface in com.google.common.truth">Correspondence.DiffFormatter</a>&lt;<a href="Correspondence.DiffFormatter.html#type-param-A" title="type parameter in Correspondence.DiffFormatter">A</a> extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, <a href="Correspondence.DiffFormatter.html#type-param-E" title="type parameter in Correspondence.DiffFormatter">E</a> extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-last odd-row-color">
<div class="block">A functional interface to be used format the diff between a pair of objects of types <code>A</code>
 and <code>E</code>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#compare(A,E)" class="member-name-link">compare</a><wbr>(<a href="#type-param-A" title="type parameter in Correspondence">A</a>&nbsp;actual,
 <a href="#type-param-E" title="type parameter in Correspondence">E</a>&nbsp;expected)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns whether or not the <code>actual</code> value is said to correspond to the <code>expected</code>
 value for the purposes of this test.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code>final boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#equals(java.lang.Object)" class="member-name-link">equals</a><wbr>(<a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;other)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link"><code>Object.equals(Object)</code></a> is not supported.</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#formatDiff(A,E)" class="member-name-link">formatDiff</a><wbr>(<a href="#type-param-A" title="type parameter in Correspondence">A</a>&nbsp;actual,
 <a href="#type-param-E" title="type parameter in Correspondence">E</a>&nbsp;expected)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> describing the difference between the <code>actual</code> and <code>
 expected</code> values, if possible, or <code>null</code> if not.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a><wbr>&lt;<a href="#type-param-A" title="type parameter in Correspondence">A</a>,<wbr><a href="#type-param-E" title="type parameter in Correspondence">E</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)" class="member-name-link">formattingDiffsUsing</a><wbr>(<a href="Correspondence.DiffFormatter.html" title="interface in com.google.common.truth">Correspondence.DiffFormatter</a>&lt;? super <a href="#type-param-A" title="type parameter in Correspondence">A</a>, ? super <a href="#type-param-E" title="type parameter in Correspondence">E</a>&gt;&nbsp;formatter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a new correspondence which is like this one, except that the given formatter may be
 used to format the difference between a pair of elements that do not correspond.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;A extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, E extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;<br><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a><wbr>&lt;A,<wbr>E&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#from(com.google.common.truth.Correspondence.BinaryPredicate,java.lang.String)" class="member-name-link">from</a><wbr>(<a href="Correspondence.BinaryPredicate.html" title="interface in com.google.common.truth">Correspondence.BinaryPredicate</a>&lt;A,<wbr>E&gt;&nbsp;predicate,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;description)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares actual and expected elements using the given
 binary predicate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code>final int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#hashCode()" class="member-name-link">hashCode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link"><code>Object.hashCode()</code></a> is not supported.</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link">Number</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link">Number</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#tolerance(double)" class="member-name-link">tolerance</a><wbr>(double&nbsp;tolerance)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> between <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link"><code>Number</code></a> instances that considers instances to
 correspond (i.e.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a description of the correspondence, suitable to fill the gap in a failure message of
 the form <code>"&lt;some actual element&gt; is an element that ... &lt;some expected element&gt;"</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;A extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, E extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;<br><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a><wbr>&lt;A,<wbr>E&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#transforming(com.google.common.base.Function,com.google.common.base.Function,java.lang.String)" class="member-name-link">transforming</a><wbr>(<a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link">Function</a>&lt;A,<wbr>?&gt;&nbsp;actualTransform,
 <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link">Function</a>&lt;E,<wbr>?&gt;&nbsp;expectedTransform,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;description)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares elements by transforming the actual and the
 expected elements using the given functions and testing the transformed values for equality.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;A extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, E extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;<br><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a><wbr>&lt;A,<wbr>E&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#transforming(com.google.common.base.Function,java.lang.String)" class="member-name-link">transforming</a><wbr>(<a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link">Function</a>&lt;A, ? extends E&gt;&nbsp;actualTransform,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;description)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares elements by transforming the actual elements
 using the given function and testing for equality with the expected elements.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="from(com.google.common.truth.Correspondence.BinaryPredicate,java.lang.String)">
<h3>from</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;A extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, E extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>
<span class="return-type"><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,<wbr>E&gt;</span>&nbsp;<span class="element-name">from</span><wbr><span class="parameters">(<a href="Correspondence.BinaryPredicate.html" title="interface in com.google.common.truth">Correspondence.BinaryPredicate</a>&lt;A,<wbr>E&gt;&nbsp;predicate,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;description)</span></div>
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares actual and expected elements using the given
 binary predicate.

 <p>The correspondence does not support formatting of diffs (see <a href="#formatDiff(A,E)"><code>formatDiff(A, E)</code></a>). You can
 add that behaviour by calling <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a>.

 <p>Note that, if the data you are asserting about contains nulls, your predicate may be invoked
 with null arguments. If this causes it to throw a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link"><code>NullPointerException</code></a>, then your test
 will fail. (See <a href="#compare(A,E)"><code>compare(A, E)</code></a> for more detail on how exceptions are handled.)
 In particular, if your predicate is an instance method reference on the actual value (as in the
 <code>String::contains</code> example below), your test will fail if it sees null actual values.

 <p>Example using an instance method reference:

 <pre><code>
 static final Correspondence&lt;String, String&gt; CONTAINS_SUBSTRING =
     Correspondence.from(String::contains, "contains");
 </code></pre>

 <p>Example using a static method reference:

 <pre><code>
 class MyRecordTestHelper {
   static final Correspondence&lt;MyRecord, MyRecord&gt; EQUIVALENCE =
       Correspondence.from(MyRecordTestHelper::recordsEquivalent, "is equivalent to");
   static boolean recordsEquivalent(MyRecord actual, MyRecord expected) {
     // code to check whether records should be considered equivalent for testing purposes
   }
 }
 </code></pre>

 <p>Example using a lambda:

 <pre><code>
 static final Correspondence&lt;Object, Class&lt;?&gt;&gt; INSTANCE_OF =
     Correspondence.from((obj, clazz) -&gt; clazz.isInstance(obj), "is an instance of");
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>predicate</code> - a <a href="Correspondence.BinaryPredicate.html" title="interface in com.google.common.truth"><code>Correspondence.BinaryPredicate</code></a> taking an actual and expected value (in that order)
     and returning whether the actual value corresponds to the expected value in some way</dd>
<dd><code>description</code> - should fill the gap in a failure message of the form <code>"not true that
     &lt;some actual element&gt; is an element that &lt;description&gt; &lt;some expected element&gt;"</code>, e.g.
     <code>"contains"</code>, <code>"is an instance of"</code>, or <code>"is equivalent to"</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="transforming(com.google.common.base.Function,java.lang.String)">
<h3>transforming</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;A extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, E extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>
<span class="return-type"><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,<wbr>E&gt;</span>&nbsp;<span class="element-name">transforming</span><wbr><span class="parameters">(<a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link">Function</a>&lt;A, ? extends E&gt;&nbsp;actualTransform,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;description)</span></div>
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares elements by transforming the actual elements
 using the given function and testing for equality with the expected elements. If the
 transformed actual element (i.e. the output of the given function) is null, it will correspond
 to a null expected element.

 <p>The correspondence does not support formatting of diffs (see <a href="#formatDiff(A,E)"><code>formatDiff(A, E)</code></a>). You can
 add that behaviour by calling <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a>.

 <p>Note that, if you the data you are asserting about contains null actual values, your
 function may be invoked with a null argument. If this causes it to throw a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link"><code>NullPointerException</code></a>, then your test will fail. (See <a href="#compare(A,E)"><code>compare(A, E)</code></a> for more
 detail on how exceptions are handled.) In particular, this applies if your function is an
 instance method reference on the actual value (as in the example below). If you want a null
 actual element to correspond to a null expected element, you must ensure that your function
 transforms a null input to a null output.

 <p>Example:

 <pre><code>
 static final Correspondence&lt;MyRecord, Integer&gt; HAS_ID =
     Correspondence.transforming(MyRecord::getId, "has an ID of");
 </code></pre>

 This can be used as follows:

 <pre><code>
 assertThat(myRecords).comparingElementsUsing(HAS_ID).containsExactly(123, 456, 789);
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>actualTransform</code> - a <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link"><code>Function</code></a> taking an actual value and returning a new value
     which will be compared with an expected value to determine whether they correspond</dd>
<dd><code>description</code> - should fill the gap in a failure message of the form <code>"not true that
     &lt;some actual element&gt; is an element that &lt;description&gt; &lt;some expected element&gt;"</code>, e.g.
     <code>"has an ID of"</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="transforming(com.google.common.base.Function,com.google.common.base.Function,java.lang.String)">
<h3>transforming</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;A extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>, E extends <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>
<span class="return-type"><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;A,<wbr>E&gt;</span>&nbsp;<span class="element-name">transforming</span><wbr><span class="parameters">(<a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link">Function</a>&lt;A,<wbr>?&gt;&nbsp;actualTransform,
 <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link">Function</a>&lt;E,<wbr>?&gt;&nbsp;expectedTransform,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;description)</span></div>
<div class="block">Constructs a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> that compares elements by transforming the actual and the
 expected elements using the given functions and testing the transformed values for equality. If
 an actual element is transformed to null, it will correspond to an expected element that is
 also transformed to null.

 <p>The correspondence does not support formatting of diffs (see <a href="#formatDiff(A,E)"><code>formatDiff(A, E)</code></a>). You can
 add that behaviour by calling <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a>.

 <p>Note that, if you the data you are asserting about contains null actual or expected values,
 the appropriate function may be invoked with a null argument. If this causes it to throw a
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link"><code>NullPointerException</code></a>, then your test will fail. (See <a href="#compare(A,E)"><code>compare(A, E)</code></a> for
 more detail on how exceptions are handled.) In particular, this applies if your function is an
 instance method reference on the actual or expected value (as in the example below). If you
 want a null actual element to correspond to a null expected element, you must ensure that your
 functions both transform a null input to a null output.

 <p>If you want to apply the same function to both the actual and expected elements, just
 provide the same argument twice.

 <p>Example:

 <pre><code>
 static final Correspondence&lt;MyRequest, MyResponse&gt; SAME_IDS =
     Correspondence.transforming(MyRequest::getId, MyResponse::getId, "has the same ID as");
 </code></pre>

 This can be used as follows:

 <pre><code>
 assertThat(myResponses).comparingElementsUsing(SAME_IDS).containsExactlyElementsIn(myRequests);
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>actualTransform</code> - a <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link"><code>Function</code></a> taking an actual value and returning a new value
     which will be compared with a transformed expected value to determine whether they
     correspond</dd>
<dd><code>expectedTransform</code> - a <a href="https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Function.html" title="class or interface in com.google.common.base" class="external-link"><code>Function</code></a> taking an expected value and returning a new value
     which will be compared with a transformed actual value</dd>
<dd><code>description</code> - should fill the gap in a failure message of the form <code>"not true that
     &lt;some actual element&gt; is an element that &lt;description&gt; &lt;some expected element&gt;"</code>, e.g.
     <code>"has the same ID as"</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="tolerance(double)">
<h3>tolerance</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link">Number</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link">Number</a>&gt;</span>&nbsp;<span class="element-name">tolerance</span><wbr><span class="parameters">(double&nbsp;tolerance)</span></div>
<div class="block">Returns a <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> between <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link"><code>Number</code></a> instances that considers instances to
 correspond (i.e. <a href="#compare(A,E)"><code>compare(Object, Object)</code></a> returns <code>true</code>) if the
 double values of each instance (i.e. the result of calling <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html#doubleValue()" title="class or interface in java.lang" class="external-link"><code>Number.doubleValue()</code></a> on
 them) are finite values within <code>tolerance</code> of each other.

 <ul>
   <li>It does not consider instances to correspond if either value is infinite or NaN.
   <li>The conversion to double may result in a loss of precision for some numeric types.
   <li>The <a href="#compare(A,E)"><code>compare(Object, Object)</code></a> method throws a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link"><code>NullPointerException</code></a> if either <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link"><code>Number</code></a> instance is null.
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tolerance</code> - an inclusive upper bound on the difference between the double values of the
     two <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link"><code>Number</code></a> instances, which must be a non-negative finite value, i.e. not <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html#NaN" title="class or interface in java.lang" class="external-link"><code>Double.NaN</code></a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html#POSITIVE_INFINITY" title="class or interface in java.lang" class="external-link"><code>Double.POSITIVE_INFINITY</code></a>, or negative, including <code>-0.0</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)">
<h3>formattingDiffsUsing</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Correspondence.html" title="class in com.google.common.truth">Correspondence</a>&lt;<a href="#type-param-A" title="type parameter in Correspondence">A</a>,<wbr><a href="#type-param-E" title="type parameter in Correspondence">E</a>&gt;</span>&nbsp;<span class="element-name">formattingDiffsUsing</span><wbr><span class="parameters">(<a href="Correspondence.DiffFormatter.html" title="interface in com.google.common.truth">Correspondence.DiffFormatter</a>&lt;? super <a href="#type-param-A" title="type parameter in Correspondence">A</a>, ? super <a href="#type-param-E" title="type parameter in Correspondence">E</a>&gt;&nbsp;formatter)</span></div>
<div class="block">Returns a new correspondence which is like this one, except that the given formatter may be
 used to format the difference between a pair of elements that do not correspond.

 <p>Note that, if you the data you are asserting about contains null actual or expected values,
 the formatter may be invoked with a null argument. If this causes it to throw a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link"><code>NullPointerException</code></a>, that will be taken to indicate that the values cannot be diffed. (See
 <a href="#formatDiff(A,E)"><code>formatDiff(A, E)</code></a> for more detail on how exceptions are handled.) If you think
 null values are likely, it is slightly cleaner to have the formatter return null in that case
 instead of throwing.

 <p>Example:

 <pre><code>
 class MyRecordTestHelper {
   static final Correspondence&lt;MyRecord, MyRecord&gt; EQUIVALENCE =
       Correspondence.from(MyRecordTestHelper::recordsEquivalent, "is equivalent to")
           .formattingDiffsUsing(MyRecordTestHelper::formatRecordDiff);
   static boolean recordsEquivalent(MyRecord actual, MyRecord expected) {
     // code to check whether records should be considered equivalent for testing purposes
   }
   static String formatRecordDiff(MyRecord actual, MyRecord expected) {
     // code to format the diff between the records
   }
 }
 </code></pre></div>
</div>
</section>
</li>
<li>
<section class="detail" id="compare(A,E)">
<h3 id="compare(java.lang.Object,java.lang.Object)">compare</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">compare</span><wbr><span class="parameters">(<a href="#type-param-A" title="type parameter in Correspondence">A</a>&nbsp;actual,
 <a href="#type-param-E" title="type parameter in Correspondence">E</a>&nbsp;expected)</span></div>
<div class="block">Returns whether or not the <code>actual</code> value is said to correspond to the <code>expected</code>
 value for the purposes of this test.

 <h3 id="exception-handling-heading">Exception handling</h3>

 <p>Throwing a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link"><code>RuntimeException</code></a> from this method indicates that this <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> cannot compare the given values. Any assertion which encounters such an
 exception during the course of evaluating its condition must not pass. However, an assertion is
 not required to invoke this method for every pair of values in its input just in order to check
 for exceptions, if it is able to evaluate its condition without doing so.

 <h4 id="conventions-for-handling-exceptions-heading">Conventions for handling exceptions</h4>

 <p>(N.B. This section is only really of interest when implementing assertion methods that call
 <a href="#compare(A,E)"><code>compare(A, E)</code></a>, not to users making such assertions in their tests.)

 <p>The only requirement on an assertion is that, if it encounters an exception from this
 method, it must not pass. The simplest implementation choice is simply to allow the exception
 to propagate. However, it is normally more helpful to catch the exception and instead fail with
 a message which includes more information about the assertion in progress and the nature of the
 failure.

 <p>By convention, an assertion may catch and store the exception and continue evaluating the
 condition as if the method had returned false instead of throwing. If the assertion's condition
 does not hold with this alternative behaviour, it may choose to fail with a message that gives
 details about how the condition does not hold, additionally mentioning that assertions were
 encountered and giving details about one of the stored exceptions. (See the first example
 below.) If the assertion's condition does hold with this alternative behaviour, the requirement
 that the assertion must not pass still applies, so it should fail with a message giving details
 about one of the stored exceptions. (See the second and third examples below.)

 <p>This behaviour is only a convention and should only be implemented when it makes sense to do
 so. In particular, in an assertion that has multiple stages, it may be better to only continue
 evaluation to the end of the current stage, and fail citing a stored exception at the end of
 the stage, rather than accumulating exceptions through the multiple stages.

 <h4 id="examples-of-exception-handling-heading">Examples of exception handling</h4>

 <p>Suppose that we have the correspondence

 <pre><code>
 static final Correspondence&lt;String, String&gt; CASE_INSENSITIVE_EQUALITY =
     Correspondence.from(String::equalsIgnoreCase, "equals ignoring case"</code>
 }</pre>

 whose <code>compare</code> method throws <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link"><code>NullPointerException</code></a> if the actual value is null.
 The assertion

 <pre><code>
 assertThat(asList(null, "xyz", "abc", "def"))
     .comparingElementsUsing(CASE_INSENSITIVE_EQUALITY)
     .containsExactly("ABC", "DEF", "GHI", "JKL");
 </code></pre>

 may fail saying that the actual iterable contains unexpected values <code>null</code> and <code>
 xyz</code> and is missing values corresponding to <code>GHI</code> and <code>JKL</code>, which is what it would
 do if the <code>compare</code> method returned false instead of throwing, and additionally mention
 the exception. (This is more helpful than allowing the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link"><code>NullPointerException</code></a> to
 propagate to the caller, or than failing with only a description of the exception.)

 <p>However, the assertions

 <pre><code>
 assertThat(asList(null, "xyz", "abc", "def"))
     .comparingElementsUsing(CASE_INSENSITIVE_EQUALITY)
     .doesNotContain("MNO");
 </code></pre>

 and

 <pre><code>
 assertThat(asList(null, "xyz", "abc", "def"))
     .comparingElementsUsing(CASE_INSENSITIVE_EQUALITY)
     .doesNotContain(null);
 </code></pre>

 must both fail citing the exception, even though they would pass if the <code>compare</code> method
 returned false. (Note that, in the latter case at least, it is likely that the test author's
 intention was <i>not</i> for the test to pass with these values.)</div>
</div>
</section>
</li>
<li>
<section class="detail" id="formatDiff(A,E)">
<h3 id="formatDiff(java.lang.Object,java.lang.Object)">formatDiff</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">formatDiff</span><wbr><span class="parameters">(<a href="#type-param-A" title="type parameter in Correspondence">A</a>&nbsp;actual,
 <a href="#type-param-E" title="type parameter in Correspondence">E</a>&nbsp;expected)</span></div>
<div class="block">Returns a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> describing the difference between the <code>actual</code> and <code>
 expected</code> values, if possible, or <code>null</code> if not.

 <p>The implementation on the <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a> base class always returns <code>null</code>. To
 enable diffing, use <a href="#formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter)"><code>formattingDiffsUsing(com.google.common.truth.Correspondence.DiffFormatter&lt;? super A, ? super E&gt;)</code></a> (or override this method in a subclass, but
 factory methods are recommended over subclassing).

 <p>Assertions should only invoke this with parameters for which <a href="#compare(A,E)"><code>compare(A, E)</code></a> returns <code>
 false</code>.

 <p>If this throws an exception, that implies that it is not possible to describe the diffs. An
 assertion will normally only call this method if it has established that its condition does not
 hold: good practice dictates that, if this method throws, the assertion should catch the
 exception and continue to describe the original failure as if this method had returned null,
 mentioning the failure from this method as additional information.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Returns a description of the correspondence, suitable to fill the gap in a failure message of
 the form <code>"&lt;some actual element&gt; is an element that ... &lt;some expected element&gt;"</code>. Note
 that this is a fragment of a verb phrase which takes a singular subject.

 <p>Example 1: For a <code>Correspondence&lt;String, Integer&gt;</code> that tests whether the actual
 string parses to the expected integer, this would return <code>"parses to"</code> to result in a
 failure message of the form <code>"&lt;some actual string&gt; is an element that parses to &lt;some
 expected integer&gt;"</code>.

 <p>Example 2: For the <code>Correspondence&lt;Number, Number&gt;</code> returns by <a href="#tolerance(double)"><code>tolerance(double)</code></a> this
 returns <code>"is a finite number within " + tolerance + " of"</code> to result in a failure message
 of the form <code>"&lt;some actual number&gt; is an element that is a finite number within 0.0001 of
 &lt;some expected number&gt;"</code>.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="equals(java.lang.Object)">
<h3>equals</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">equals</span><wbr><span class="parameters">(<a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;other)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link"><code>Object.equals(Object)</code></a> is not supported. If you meant to compare objects
     using this <a href="Correspondence.html" title="class in com.google.common.truth"><code>Correspondence</code></a>, use <a href="#compare(A,E)"><code>compare(A, E)</code></a>.</div>
</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - always</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="hashCode()">
<h3>hashCode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">hashCode</span>()</div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link"><code>Object.hashCode()</code></a> is not supported.</div>
</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - always</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
